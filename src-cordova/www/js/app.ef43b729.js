(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,g=[];d<o.length;d++)i=o[d],r[i]&&g.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(g.length)g.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"4e69":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),r=s("bb71");s("da64");a["a"].use(r["a"],{iconfont:"md"});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-fade-transition",{attrs:{mode:"out-in"}},[s("router-view")],1)},i=[],o=s("2877"),c=s("6544"),l=s.n(c),u=s("0789"),d={},g=Object(o["a"])(d,n,i,!1,null,null,null),f=g.exports;l()(g,{VFadeTransition:u["b"]});var m=s("8c4f"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("div",[s("v-toolbar",{attrs:{color:"green",tabs:"",dark:"",fixed:"",app:""},scopedSlots:t._u([{key:"extension",fn:function(){return[s("v-tabs",{attrs:{"fixed-tabs":"",grow:"",color:"transparent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tabs-slider",{attrs:{color:"yellow"}}),t._l(t.tabItems,function(e){return s("v-tab",{key:e.id,attrs:{disabled:2==e.id&&!t.isSigned}},[s("v-icon",{attrs:{disabled:2==e.id&&!t.isSigned}},[t._v(t._s(e.icon))]),t._v("\n            Â "),s("span",[t._v(t._s(e.name))])],1)})],2)]},proxy:!0}])},[s("v-toolbar-title",[t._v("VENDOFY")]),s("v-spacer"),t.isSigned?[s("v-toolbar-items",[s("span",{staticClass:"subheading font-weight-medium mt-3 mr-3"},[t._v(t._s(t.signedCustomer))]),s("span",{staticClass:"title font-weight-medium mt-3"},[t._v("|")]),s("v-btn",{staticClass:"subheading font-weight-medium",attrs:{dark:"",flat:""},on:{click:function(e){t.signOutDialog=!0}}},[t._v("Sign Out")])],1)]:[s("v-toolbar-items",[s("v-btn",{staticClass:"subheading font-weight-medium",attrs:{dark:"",flat:""},on:{click:t.openSignInDialog}},[t._v("   \n              Sign In\n            ")]),s("span",{staticClass:"title font-weight-medium mt-3"},[t._v("|")]),s("v-btn",{staticClass:"subheading font-weight-medium",attrs:{dark:"",flat:""},on:{click:function(e){t.regDialog=!0}}},[t._v("   \n              Register\n            ")])],1)]],2),s("v-tabs-items",{attrs:{touchless:!t.isSigned},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",{key:"0"},[s("v-card",{staticClass:"tab-item-wrapper",attrs:{flat:""}},[s("products")],1)],1),s("v-tab-item",{key:"1"},[s("v-card",{staticClass:"tab-item-wrapper",attrs:{flat:""}},[s("transactions")],1)],1)],1),t.isSigned?s("v-btn",{attrs:{large:"",fab:"",bottom:"",right:"",color:"green",dark:"",fixed:""},on:{click:function(e){t.cartDialog=!0}}},[s("v-badge",{attrs:{color:"orange",right:"",overlap:""},scopedSlots:t._u([{key:"badge",fn:function(){return[s("span",{staticClass:"title"},[t._v(t._s(t.getCartCount))])]},proxy:!0}],null,!1,1506690713)},[s("v-icon",{attrs:{"x-large":""}},[t._v("shopping_cart")])],1)],1):t._e(),s("register",{attrs:{dialog:t.regDialog},on:{"close-register":function(e){t.regDialog=!1}}}),s("sign-in",{attrs:{dialog:t.signInDialog},on:{"close-sign-in":function(e){t.signInDialog=!1}}}),s("cart",{attrs:{dialog:t.cartDialog},on:{"close-cart":function(e){t.cartDialog=!1}}}),s("authenticate",{attrs:{dialog:t.authDialog},on:{"close-auth":function(e){t.authDialog=!1}}}),s("v-dialog",{attrs:{"max-width":"360"},model:{value:t.signOutDialog,callback:function(e){t.signOutDialog=e},expression:"signOutDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("Signing Out")]),s("v-card-text",[s("span",{staticClass:"subheading font-weight-regular"},[t._v("\n            Are you sure do you want to sign out ?\n          ")])]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",large:"",flat:"flat"},on:{click:t.signOut}},[t._v("Yes")]),s("v-btn",{attrs:{color:"green darken-1",large:"",flat:"flat"},on:{click:function(e){t.signOutDialog=!1}}},[t._v("No")])],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:t.reconDialog,callback:function(e){t.reconDialog=e},expression:"reconDialog"}},[s("v-card",{attrs:{color:"green",dark:""}},[s("v-card-text",[s("span",{staticClass:"title font-weight-regular"},[t._v("Connecting to vending machine . . .")]),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:t.firebaseConnDialog,callback:function(e){t.firebaseConnDialog=e},expression:"firebaseConnDialog"}},[s("v-card",{attrs:{color:"blue",dark:""}},[s("v-card-text",[s("span",{staticClass:"title font-weight-regular"},[t._v("Connecting to Google Firebase . . .")]),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),s("v-snackbar",{attrs:{bottom:"",left:"","auto-height":"",color:"info"},model:{value:t.snackbarStatus,callback:function(e){t.snackbarStatus=e},expression:"snackbarStatus"}},[s("span",{staticClass:"subheading"},[t._v(t._s(t.snackbarMsg))]),s("v-btn",{attrs:{color:"white",flat:""},on:{click:function(e){t.snackbarStatus=!1}}},[t._v("Close")])],1)],1)])},p=[],v=(s("7f7f"),s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"green"}},[s("v-btn",{attrs:{icon:"",large:"",dark:""},on:{click:t.closeReg}},[s("v-icon",[t._v("close")])],1),s("v-toolbar-title",[t._v("Register")])],1),s("v-stepper",{attrs:{vertical:""},model:{value:t.e6,callback:function(e){t.e6=e},expression:"e6"}},[s("v-stepper-step",{attrs:{complete:t.e6>1,step:"1"}},[t._v("\n                    Customer Information\n                ")]),s("v-stepper-content",{attrs:{step:"1"}},[s("v-form",{on:{submit:function(e){e.preventDefault(),t.stepper().next()}}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"","ml-2":"","mr-5":""}},[s("v-text-field",{attrs:{label:"Enter your name . . .",counter:"30",maxlength:"30","error-messages":t.customerNameErrors,required:""},on:{input:function(e){return t.$v.customerName.$touch()},blur:function(e){return t.$v.customerName.$touch()}},model:{value:t.customerName,callback:function(e){t.customerName=e},expression:"customerName"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{color:"primary",large:""},on:{click:function(e){t.stepper().next()}}},[t._v("Next")])],1)],1)],1)],1),s("v-stepper-step",{attrs:{complete:t.e6>2,step:"2"}},[t._v("\n                    Enroll Fingerprint\n                ")]),s("v-stepper-content",{attrs:{step:"2"}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"","ml-1":""}},[s("v-icon",{attrs:{color:"blue-grey",size:"100"}},[t._v("fingerprint")])],1),s("v-flex",{attrs:{xs12:"","mt-2":""}},[s("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(e){t.stepper().next()}}},[t._v("Scan")]),s("v-btn",{attrs:{large:""},on:{click:function(e){t.e6=1}}},[t._v("Back")])],1)],1)],1)],1)],1)],1),s("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[s("v-card",[s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[s("v-flex",{attrs:{xs12:"","mt-3":""}},[s("v-progress-circular",{attrs:{rotate:360,size:100,width:15,value:t.timer,color:"blue"}},[s("span",{staticClass:"title font-weight-medium"},[t._v(t._s(t.timer/10))])])],1),s("v-flex",{attrs:{xs12:"","mt-4":"","mb-4":""}},[s("span",{staticClass:"title font-weight-medium",class:[t.msgColor]},[s("center",[t._v(t._s(t.msg))])],1)])],1)],1)],1)],1)],1)}),b=[],C=s("1dce"),y=s("b5ae"),_={mixins:[C["validationMixin"]],validations:{customerName:{required:y["required"]}},props:["dialog"],data:function(){return{customerName:"",e6:1,dialog2:!1,timer:100,msg:"Please put your finger",msgColor:"blue--text"}},mounted:function(){var t=this;setInterval(function(){1==t.dialog2&&t.timer>0&&(t.timer-=10)},1e3)},methods:{stepper:function(){var t=this;return{next:function(){t.$v.$touch(),t.$v.$invalid||(t.e6=2,t.dialog2=!0,t.$store.dispatch("sendMessage",{type:"ENROLL_FINGERPRINT"}))}}},closeReg:function(){this.$emit("close-register")}},computed:{customerNameErrors:function(){var t=[];return this.$v.customerName.$dirty?(!this.$v.customerName.required&&t.push("Your name is required."),t):t},getMsg:function(){return this.$store.getters.getMessage}},watch:{getMsg:function(t){null!==t&&void 0!==t&&("ENROLL_CLOSE"==t.type?(this.dialog2=!1,this.msg="Please put your finger",this.msgColor="blue--text",this.timer=100):"ENROLL_INFO"==t.type?(this.msg=t.msg,this.msgColor="blue--text",this.timer=100):"ENROLL_ERROR"==t.type?(this.msg=t.msg,this.msgColor="red--text",this.timer=100):"ENROLL_SUCCESS"==t.type&&(this.$store.dispatch("customers/registerCustomers",{fid:t.fid,name:this.customerName}),this.dialog2=!1,this.msg="Please put your finger",this.msgColor="blue--text",this.timer=100,this.closeReg()))}}},x=_,w=(s("9d8f"),s("8336")),k=s("b0af"),S=s("a5238"),V=s("169a"),T=s("0e8f"),$=s("4bd4"),I=s("132d"),E=s("a722"),O=s("490a"),A=s("7e85"),D=s("e516"),N=s("56a4"),L=s("2677"),M=s("71d9"),F=s("2a7f"),P=Object(o["a"])(x,v,b,!1,null,null,null),R=P.exports;l()(P,{VBtn:w["a"],VCard:k["a"],VContainer:S["a"],VDialog:V["a"],VFlex:T["a"],VForm:$["a"],VIcon:I["a"],VLayout:E["a"],VProgressCircular:O["a"],VStepper:A["a"],VStepperContent:D["a"],VStepperStep:N["a"],VTextField:L["a"],VToolbar:M["a"],VToolbarTitle:F["b"]});var j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[s("v-flex",{attrs:{xs12:"","mt-3":""}},[s("v-progress-circular",{attrs:{rotate:360,size:100,width:15,value:t.timer,color:"blue"}},[s("span",{staticClass:"title font-weight-medium"},[t._v(t._s(t.timer/10))])])],1),s("v-flex",{attrs:{xs12:"","mt-4":"","mb-4":""}},[s("span",{staticClass:"title font-weight-medium",class:[t.msgColor]},[s("center",[t._v(t._s(t.msg))])],1)])],1)],1)],1)],1)],1)},z=[],q={props:["dialog"],data:function(){return{timer:100,msg:"Please scan your finger",msgColor:"blue--text"}},mounted:function(){var t=this;setInterval(function(){1==t.dialog&&t.timer>0&&(t.timer-=10)},1e3)},computed:{getMsg:function(){return this.$store.getters.getMessage}},watch:{getMsg:function(t){null!==t&&void 0!==t&&("SIGNIN_CLOSE"==t.type?(this.$emit("close-sign-in"),this.msg="Please scan your finger",this.msgColor="blue--text",this.timer=100):"SIGNIN_ERROR"==t.type?(this.msg=t.msg,this.msgColor="red--text",this.timer=100):"SIGNIN_SUCCESS"==t.type&&(this.$store.dispatch("customers/signInCustomers",{fid:t.fid}),this.$emit("close-sign-in"),this.msg="Please scan your finger",this.msgColor="blue--text",this.timer=100))}}},B=q,K=Object(o["a"])(B,j,z,!1,null,null,null),Q=K.exports;l()(K,{VCard:k["a"],VContainer:S["a"],VDialog:V["a"],VFlex:T["a"],VLayout:E["a"],VProgressCircular:O["a"]});var Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.products,function(e,a){return s("v-flex",{key:a,attrs:{xs6:"","pa-3":""}},[s("v-card",[s("v-img",{attrs:{height:"268",src:e.pic},scopedSlots:t._u([{key:"placeholder",fn:function(){return[s("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[s("v-progress-circular",{attrs:{size:"100",width:"20",indeterminate:"",color:"grey"}})],1)]},proxy:!0}],null,!0)}),s("v-card-text",[s("p",{staticClass:"title font-weight-medium deep-orange--text mb-2"},[t._v("â± "+t._s(e.price))]),s("p",{staticClass:"title font-weight-bold blue--text mb-2 text-no-wrap text-truncate"},[t._v(t._s(e.descrp))]),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs6:""}},[s("p",{staticClass:"subheading font-weight-medium blue-grey--text mb-2"},[t._v("Size ("+t._s(e.size)+")")])]),s("v-flex",{attrs:{xs6:""}},[s("p",{staticClass:"subheading font-weight-medium blue-grey--text mb-2 text-xs-right"},[t._v("Quantity: "+t._s(e.qty))])])],1),s("v-btn",{staticClass:"white--text",attrs:{color:"deep-orange",large:"",block:"",round:"",disabled:e.qty<=0||null==t.customerIsSigned&&void 0==t.customerIsSigned},on:{click:function(s){return t.addToCart(e,a)}}},[e.qty>0?s("span",[s("v-icon",[t._v("add_shopping_cart")]),t._v("Â Add to Cart\n                    ")],1):s("span",[t._v("Out of Stocks")])])],1)],1)],1)}),1)},G=[],U={data:function(){return{products:null}},computed:{getProducts:function(){return this.$store.getters["products/getProducts"]},customerIsSigned:function(){return this.$store.getters["customers/getSignedCustomer"]}},watch:{getProducts:function(t){null!==t&&void 0!==t&&(this.products=t)}},methods:{addToCart:function(t,e){this.$store.dispatch("cart/addCart",t),this.$store.dispatch("products/decrementQty",e)}}},H=U,J=s("99d9"),X=s("adda"),W=Object(o["a"])(H,Y,G,!1,null,null,null),Z=W.exports;l()(W,{VBtn:w["a"],VCard:k["a"],VCardText:J["b"],VFlex:T["a"],VIcon:I["a"],VImg:X["a"],VLayout:E["a"],VProgressCircular:O["a"]});var tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{column:""}},[s("v-flex",{attrs:{xs12:"","ma-4":""}},[s("v-list",{attrs:{"two-line":""}},[t._l(t.transactions,function(e,a){return[s("v-list-tile",{key:e.key,staticStyle:{height:"80px"},attrs:{avatar:"",ripple:""}},[s("v-list-tile-avatar",[s("v-img",{attrs:{height:"36",src:e.pic},scopedSlots:t._u([{key:"placeholder",fn:function(){return[s("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[s("v-progress-circular",{attrs:{size:"100",width:"20",indeterminate:"",color:"grey"}})],1)]},proxy:!0}],null,!0)})],1),s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"mt-2 mb-1"},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs10:""}},[s("p",{staticClass:"title font-weight-regular text-no-wrap text-truncate"},[t._v("\n                                        ("+t._s(e.size)+") "+t._s(e.descrp)+"\n                                    ")])])],1)],1),s("v-list-tile-sub-title",[s("span",{staticClass:"title font-weight-regular deep-orange--text"},[t._v("\n                                â± "+t._s(e.price)+"\n                            ")])]),s("v-list-tile-sub-title",[s("span",{staticClass:"grey--text subheading"},[t._v("\n                                "+t._s(t._f("moment")(e.dateTrans,"ddd, MMM Do YYYY, h:mm A"))+"\n                            ")])])],1),s("v-list-tile-action",[s("v-list-tile-action-text",[s("span",{staticClass:"grey--text body-2 font-weight-regular"},[t._v("\n                                "+t._s(t._f("moment")(e.dateTrans,"from","now",!0))+" ago\n                            ")])]),s("v-spacer")],1)],1),a+1<t.transactions.length?s("v-divider",{key:a}):t._e()]})],2)],1)],1)},et=[],st={data:function(){return{transactions:null}},computed:{getTransactions:function(){return this.$store.getters["transactions/getTransactions"]}},watch:{getTransactions:function(t){var e=this.$store.getters["customers/getSignedCustomer"];this.transactions=null!==t&&void 0!==t&&null!==e&&void 0!==e?t:null}}},at=st,rt=s("ce7e"),nt=s("8860"),it=s("ba95"),ot=s("40fe"),ct=s("5d23"),lt=s("c954"),ut=s("9910"),dt=Object(o["a"])(at,tt,et,!1,null,null,null),gt=dt.exports;l()(dt,{VDivider:rt["a"],VFlex:T["a"],VImg:X["a"],VLayout:E["a"],VList:nt["a"],VListTile:it["a"],VListTileAction:ot["a"],VListTileActionText:ct["a"],VListTileAvatar:lt["a"],VListTileContent:ct["b"],VListTileSubTitle:ct["c"],VListTileTitle:ct["d"],VProgressCircular:O["a"],VSpacer:ut["a"]});var ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"green"}},[s("v-btn",{attrs:{icon:"",dark:"",large:""},on:{click:t.closeCart}},[s("v-icon",[t._v("arrow_back")])],1),s("v-toolbar-title",[t._v("Cart")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{staticClass:"subheading",attrs:{type:"submit",dark:"",flat:"",large:"",disabled:t.getCart.length<=0},on:{click:t.purchaseNow}},[t._v("   \n                        Purchase Now\n                    ")])],1)],1),s("v-layout",{attrs:{column:""}},[s("v-flex",{attrs:{xs12:"","ma-4":""}},[s("v-list",[t._l(t.getCart,function(e,a){return s("v-list-tile",{key:a,attrs:{avatar:""}},[s("v-list-tile-avatar",[s("v-img",{attrs:{height:"36",src:e.pic},scopedSlots:t._u([{key:"placeholder",fn:function(){return[s("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[s("v-progress-circular",{attrs:{size:"100",width:"20",indeterminate:"",color:"grey"}})],1)]},proxy:!0}],null,!0)})],1),s("v-list-tile-content",[s("v-list-tile-title",[s("p",{staticClass:"title font-weight-regular text-no-wrap text-truncate"},[t._v("\n                                        ("+t._s(e.size)+") "+t._s(e.descrp)+" \n                                    ")])]),s("v-list-tile-sub-title",[s("p",{staticClass:"title font-weight-regular deep-orange--text"},[t._v("\n                                        â± "+t._s(e.price)+"\n                                    ")])])],1),s("v-list-tile-action",[s("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(s){return t.removeFromCart(e,a)}}},[s("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("close")])],1)],1)],1)}),t.getCart.length>0?[s("v-divider",{attrs:{inset:""}}),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar"),s("v-list-tile-content",[s("v-list-tile-title",[s("p",{staticClass:"title font-weight-bold red--text"},[t._v("\n                                            Total: â± "+t._s(t.getTotal)+"\n                                        ")])])],1),s("v-list-tile-action",[s("v-btn",{attrs:{color:"grey",large:"",flat:""},on:{click:t.clearCart}},[t._v("Clear All")])],1)],1)]:t._e()],2)],1)],1)],1)],1),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[s("v-card",[s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[s("v-flex",{attrs:{xs12:"","mt-3":""}},[s("center",[s("span",{staticClass:"display-1 font-weight-bold",class:[t.moneyColor]},[t._v("\n                                â± "+t._s(t.customerCash)+"/"+t._s(t.getTotal)+"\n                            ")])])],1),s("v-flex",{attrs:{xs12:"","mt-4":"","mb-4":""}},[s("span",{staticClass:"headline font-weight-medium blue--text"},[t._v("\n                            "+t._s(t.msg)+"\n                        ")])])],1),s("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[s("v-flex",{attrs:{xs12:"","ml-2":"","mr-2":""}},[s("v-btn",{staticClass:"white--text",attrs:{block:"",large:"",color:"green",disabled:t.customerCash<t.getTotal},on:{click:t.confirm}},[t._v("Confirm")])],1),s("v-flex",{attrs:{xs12:"","ml-2":"","mr-2":""}},[s("v-btn",{staticClass:"white--text",attrs:{block:"",large:"",color:"red"},on:{click:t.cancel}},[t._v("Close")])],1)],1)],1)],1)],1),s("v-dialog",{attrs:{persistent:"","max-width":"360"},model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[s("v-card",{attrs:{color:"primary",dark:""}},[s("v-card-text",[s("span",{staticClass:"title font-weight-regular"},[t._v("Processing. . . ("+t._s(t.fallItems)+"/"+t._s(t.getCartCount)+")")]),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},mt=[],ht={props:["dialog"],data:function(){return{dialog2:!1,dialog3:!1,customerCash:0,msg:"Please Insert Bill/Coin",moneyColor:"red--text",fallItems:0}},methods:{closeCart:function(){this.$emit("close-cart")},removeFromCart:function(t,e){this.$store.dispatch("cart/removeCart",e),this.$store.dispatch("products/incrementQty",t.id-1)},purchaseNow:function(){var t=this.$store.getters["customers/getSignedCustomer"];null!==t&&void 0!==t&&(this.customerCash=t.credit,this.dialog2=!0,this.$store.dispatch("sendMessage",{type:"ACTIVATE_BILL_COIN"}))},clearCart:function(){var t=this;this.$store.getters["cart/getCart"].forEach(function(e){t.$store.dispatch("products/incrementQty",e.id-1)}),this.$store.dispatch("cart/clearCart")},confirm:function(){var t=this;this.dialog2=!1,this.dialog3=!0;var e=[];this.$store.getters["cart/getCart"].forEach(function(s){e.push(s.id),t.$store.dispatch("transactions/saveTransaction",{key:s.key,descrp:s.descrp,size:s.size,pic:s.pic,price:s.price})}),this.$store.dispatch("sendMessage",{type:"PURCHASE_ITEMS",size:e.length,items:e}),this.$store.dispatch("sendMessage",{type:"DEACTIVATE_BILL_COIN"})},cancel:function(){this.customerCash=0,this.dialog2=!1,this.$store.dispatch("sendMessage",{type:"DEACTIVATE_BILL_COIN"})}},computed:{getCart:function(){return this.$store.getters["cart/getCart"]},getTotal:function(){return this.$store.getters["cart/getTotal"]},getMsg:function(){return this.$store.getters.getMessage},getCustomerCash:function(){return this.$store.getters["customers/getSignedCustomer"]},getCartCount:function(){return this.$store.getters["cart/getCart"].length}},watch:{getMsg:function(t){null!==t&&void 0!==t&&("ADD_CASH"==t.type?this.$store.dispatch("customers/addCustomersCash",t.cash):"CURRENCY_INFO"==t.type?this.msg="Adding... â±"+t.msg:"FALL_ITEMS"==t.type&&this.fallItems++)},getCustomerCash:function(t){var e=this.$store.getters["customers/getSignedCustomer"];null!==t&&void 0!==t&&null!==e&&void 0!==e&&(this.customerCash=t.credit)},fallItems:function(t){t>=this.getCartCount&&(this.dialog3=!1,this.fallItems=0,this.$store.dispatch("cart/clearCart"),this.closeCart(),this.$store.dispatch("showNotify","Transaction successful. Please see purchase history"))},customerCash:function(t){t<this.getTotal?(this.moneyColor="red--text",this.msg="Please Insert Bill/Coin"):(this.moneyColor="green--text",this.msg="Press confirm to continue.")}}},pt=ht,vt=s("8e36"),bt=Object(o["a"])(pt,ft,mt,!1,null,null,null),Ct=bt.exports;l()(bt,{VBtn:w["a"],VCard:k["a"],VCardText:J["b"],VContainer:S["a"],VDialog:V["a"],VDivider:rt["a"],VFlex:T["a"],VIcon:I["a"],VImg:X["a"],VLayout:E["a"],VList:nt["a"],VListTile:it["a"],VListTileAction:ot["a"],VListTileAvatar:lt["a"],VListTileContent:ct["b"],VListTileSubTitle:ct["c"],VListTileTitle:ct["d"],VProgressCircular:O["a"],VProgressLinear:vt["a"],VSpacer:ut["a"],VToolbar:M["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]});var yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"title font-weight-regular"},[t._v("\n            Authentication\n        ")]),s("v-divider"),s("v-form",{on:{submit:function(e){return e.preventDefault(),t.onConnect(e)}}},[s("v-container",[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"","ml-3":"","mr-3":""}},[s("v-text-field",{attrs:{"prepend-icon":"lock",label:"Password",type:"password","error-messages":t.passwordErrors,required:""},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n                            "+t._s(t.errorMsg)+"\n                        ")])],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{type:"submit",color:"blue",dark:"",large:"",loading:t.loading},on:{click:t.onConnect}},[t._v("Connect")])],1)],1)],1)],1)},_t=[],xt={mixins:[C["validationMixin"]],validations:{password:{required:y["required"]}},props:["dialog"],data:function(){return{password:"",loading:!1,alert:!1,errorMsg:""}},computed:{passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.required&&t.push("Password is required"),t):t},getAuthenticationError:function(){return this.$store.getters.getAuthError},getAuthenticationStatus:function(){return this.$store.getters.getAuthStatus}},watch:{getAuthenticationError:function(t){this.loading=!1,null!==t&&void 0!==t&&("auth/wrong-password"==t.code?(this.alert=!0,this.errorMsg="Incorrect password."):"auth/too-many-requests"==t.code?(this.alert=!0,this.errorMsg="Too many attempts. Try again later"):"auth/network-request-failed"==t.code&&(this.alert=!0,this.errorMsg="A network error (such as timeout, interrupted connection or unreachable host) has occurred."))},getAuthenticationStatus:function(t){null!==t&&void 0!==t&&t&&(this.password="",this.loading=!1,this.alert=!1,this.errorMsg="",this.$emit("close-auth"))}},methods:{onConnect:function(){this.$v.$touch(),this.$v.$invalid||1==this.loading||(this.loading=!0,this.$store.dispatch("authenticate",{email:"vendofy@gmail.com",password:this.password}))}}},wt=xt,kt=s("0798"),St=s("12b2"),Vt=Object(o["a"])(wt,yt,_t,!1,null,null,null),Tt=Vt.exports;l()(Vt,{VAlert:kt["a"],VBtn:w["a"],VCard:k["a"],VCardActions:J["a"],VCardTitle:St["a"],VContainer:S["a"],VDialog:V["a"],VDivider:rt["a"],VFlex:T["a"],VForm:$["a"],VLayout:E["a"],VSpacer:ut["a"],VTextField:L["a"]});var $t={components:{Register:R,SignIn:Q,Products:Z,Transactions:gt,Cart:Ct,Authenticate:Tt},data:function(){return{reconDialog:!1,authDialog:!0,firebaseConnDialog:!1,regDialog:!1,signInDialog:!1,cartDialog:!1,signOutDialog:!1,tab:null,tabItems:[{id:1,name:"Products",icon:"business_center"},{id:2,name:"Purchase History",icon:"history"}],isSigned:!1,signedCustomer:null,snackbarStatus:!1,snackbarMsg:""}},methods:{openSignInDialog:function(){this.$store.dispatch("sendMessage",{type:"VERIFY_FINGERPRINT"}),this.signInDialog=!0},signOut:function(){var t=this;this.signOutDialog=!1,this.tab=0,this.$store.getters["cart/getCart"].forEach(function(e){t.$store.dispatch("products/incrementQty",e.id-1)}),this.$store.dispatch("cart/clearCart"),this.$store.dispatch("transactions/clearTransactions"),this.$store.dispatch("customers/signOutCustomer")}},computed:{customerIsSigned:function(){return this.$store.getters["customers/getSignedCustomer"]},getCartCount:function(){return this.$store.getters["cart/getCart"].length},getAlarmStatus:function(){return this.$store.getters["config/getAlarm"]},getLockStatus:function(){return this.$store.getters["config/getLock"]},getConnectionStatus:function(){return this.$store.getters.getConnection},getMsg:function(){return this.$store.getters.getMessage},getNotify:function(){return this.$store.getters.getNotify},getAuthenticationStatus:function(){return this.$store.getters.getAuthStatus},getFirebaseConnectionStatus:function(){return this.$store.getters.getFirebaseConnection}},watch:{customerIsSigned:function(t){null!==t&&void 0!==t?(this.signedCustomer=t.name,this.isSigned=!0):this.isSigned=!1},getAlarmStatus:function(t){null!==t&&void 0!==t&&0==t&&this.$store.dispatch("sendMessage",{type:"ALARM_OFF"})},getLockStatus:function(t){null!==t&&void 0!==t&&(t?this.$store.dispatch("sendMessage",{type:"LOCK_OFF"}):this.$store.dispatch("sendMessage",{type:"LOCK_ON"}))},getConnectionStatus:function(t){if(null!==t&&void 0!==t)if(t){this.reconDialog=!1;var e=this.$store.getters.getAuthStatus;if(null!==e&&void 0!==e)if(1==e){this.authDialog=!1;var s=this.$store.getters.getFirebaseConnection;null!==s&&t!==s&&(this.firebaseConnDialog=!s)}else this.authDialog=!0}else this.reconDialog=!0},getMsg:function(t){null!==t&&void 0!==t&&"ALARM_ON"==t.type&&this.$store.dispatch("config/updateAlarm",!0)},getNotify:function(t){null!==t&&void 0!==t&&(""!==t?(this.snackbarMsg=t,this.snackbarStatus=!0):this.snackbarMsg="")},snackbarStatus:function(t){0==t&&this.$store.dispatch("showNotify","")},getAuthenticationStatus:function(t){null!==t&&void 0!==t&&(this.authDialog=!t)},getFirebaseConnectionStatus:function(t){null!==t&&void 0!==t&&(this.firebaseConnDialog=!t)}}},It=$t,Et=(s("cccb"),s("7496")),Ot=s("4ca6"),At=s("2db4"),Dt=s("71a3"),Nt=s("c671"),Lt=s("fe57"),Mt=s("aac8"),Ft=s("9a96"),Pt=Object(o["a"])(It,h,p,!1,null,null,null),Rt=Pt.exports;l()(Pt,{VApp:Et["a"],VBadge:Ot["a"],VBtn:w["a"],VCard:k["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:St["a"],VDialog:V["a"],VIcon:I["a"],VProgressLinear:vt["a"],VSnackbar:At["a"],VSpacer:ut["a"],VTab:Dt["a"],VTabItem:Nt["a"],VTabs:Lt["a"],VTabsItems:Mt["a"],VTabsSlider:Ft["a"],VToolbar:M["a"],VToolbarItems:F["a"],VToolbarTitle:F["b"]}),a["a"].use(m["a"]);var jt=new m["a"]({base:"",routes:[{path:"/",name:"home",component:Rt}]}),zt=s("2f62"),qt=s("8aa5"),Bt=s.n(qt),Kt={namespaced:!0,state:{signedCustomer:null},mutations:{setSignedCustomer:function(t,e){t.signedCustomer=e}},actions:{registerCustomers:function(t,e){var s=t.dispatch;Bt.a.firestore().collection("customers").add({fid:e.fid,name:e.name,credit:0,regDate:Bt.a.firestore.FieldValue.serverTimestamp()}).then(function(t){console.log("Customer written with ID: ",t.id),s("showNotify","Registration successful. Please press sign-in",{root:!0})}).catch(function(t){console.error("Error adding customer: ",t)})},addCustomersCash:function(t,e){var s=t.state,a=s.signedCustomer;null!==a&&void 0!==a&&Bt.a.firestore().collection("customers").doc(a.key).update({credit:Bt.a.firestore.FieldValue.increment(e)})},fetchCustomers:function(t){var e=t.state,s=t.commit,a=e.signedCustomer;null!==a&&void 0!==a&&(this.unsubscribeCustomer=Bt.a.firestore().collection("customers").doc(a.key).onSnapshot(function(t){s("setSignedCustomer",{key:t.id,fid:t.data().fid,name:t.data().name,regDate:t.data().regDate,credit:t.data().credit})}))},signInCustomers:function(t,e){var s=t.dispatch,a=t.commit;Bt.a.firestore().collection("customers").get().then(function(t){t.forEach(function(t){t.data().fid==e.fid&&(a("setSignedCustomer",{key:t.id,fid:t.data().fid,name:t.data().name,regDate:t.data().regDate,credit:t.data().credit}),s("fetchCustomers"),s("transactions/fetchTransactions",null,{root:!0}),s("showNotify","Welcome, "+t.data().name,{root:!0}))})})},signOutCustomer:function(t){var e=t.dispatch,s=t.state,a=t.commit,r=s.signedCustomer;null!==r&&void 0!==r&&(e("showNotify","Goodbye, "+r.name,{root:!0}),a("setSignedCustomer",null),this.unsubscribeCustomer(),this.unsubscribeTransactions())}},getters:{getSignedCustomer:function(t){return t.signedCustomer}}},Qt={namespaced:!0,state:{products:null},mutations:{setProducts:function(t,e){t.products=e},decreaseQty:function(t,e){t.products[e].qty--},incrementQty:function(t,e){t.products[e].qty++}},actions:{fetchProducts:function(t){var e=t.commit;Bt.a.firestore().collection("products").orderBy("id","asc").onSnapshot(function(t){var s=[];t.forEach(function(t){s.push({key:t.id,id:t.data().id,descrp:t.data().descrp,size:t.data().size,price:t.data().price,qty:t.data().qty,pic:t.data().pic})}),e("setProducts",s)})},decrementQty:function(t,e){var s=t.commit;s("decreaseQty",e)},incrementQty:function(t,e){var s=t.commit;s("incrementQty",e)}},getters:{getProducts:function(t){return t.products}}},Yt={namespaced:!0,state:{cart:[]},mutations:{appendToCart:function(t,e){t.cart.push(e)},removeFromCart:function(t,e){console.log(e),t.cart.splice(e,1)},setCart:function(t,e){t.cart=e}},actions:{addCart:function(t,e){var s=t.commit,a=[];a.push({id:e.id,descrp:e.descrp,size:e.size,price:e.price,pic:e.pic}),s("appendToCart",e)},removeCart:function(t,e){var s=t.commit;s("removeFromCart",e)},clearCart:function(t){var e=t.commit;e("setCart",[])}},getters:{getCart:function(t){return t.cart},getTotal:function(t){var e=0;return null!=t.cart&&void 0!=t.cart&&t.cart.forEach(function(t){e+=t.price}),e}}},Gt={namespaced:!0,state:{transactions:null},mutations:{setTransactions:function(t,e){t.transactions=e}},actions:{fetchTransactions:function(t){var e=t.rootState,s=t.commit,a=e.customers.signedCustomer;null!==a&&void 0!==a&&(this.unsubscribeTransactions=Bt.a.firestore().collection("transactions").where("customerKey","==",a.key).orderBy("dateTrans","desc").onSnapshot(function(t){var e=[];t.forEach(function(t){null!==t.data().dateTrans&&void 0!==t.data().dateTrans&&e.push({key:t.id,customerKey:t.data().customerKey,dateTrans:t.data().dateTrans.seconds,descrp:t.data().descrp,size:t.data().size,pic:t.data().pic,price:t.data().price})}),s("setTransactions",e)}))},saveTransaction:function(t,e){var s=t.rootState,a=s.customers.signedCustomer;null!==a&&void 0!==a&&(Bt.a.firestore().collection("transactions").add({customerKey:a.key,dateTrans:Bt.a.firestore.FieldValue.serverTimestamp(),descrp:e.descrp,size:e.size,pic:e.pic,price:e.price}).then(function(t){console.log("Transaction written with ID: ",t.id)}).catch(function(t){console.error("Error adding transaction: ",t)}),Bt.a.firestore().collection("customers").doc(a.key).update({credit:Bt.a.firestore.FieldValue.increment(-e.price)}),Bt.a.firestore().collection("products").doc(e.key).update({qty:Bt.a.firestore.FieldValue.increment(-1)}))},clearTransactions:function(t){var e=t.commit;e("setTransactions",null)}},getters:{getTransactions:function(t){return t.transactions}}},Ut={namespaced:!0,state:{alarm:null,lock:null},mutations:{setAlarm:function(t,e){t.alarm=e},setLock:function(t,e){t.lock=e}},actions:{fetchConfig:function(t){var e=t.commit;Bt.a.firestore().collection("config").doc("DYoThSRAElmX50fQI6jB").onSnapshot(function(t){e("setAlarm",t.data().alarm),e("setLock",t.data().lock)})},updateAlarm:function(t,e){Bt.a.firestore().collection("config").doc("DYoThSRAElmX50fQI6jB").update({alarm:e}).then(function(){console.log("Alarm successfully updated!")}).catch(function(t){console.error("Error updating alarm: ",t)})}},getters:{getAlarm:function(t){return t.alarm},getLock:function(t){return t.lock}}};a["a"].use(zt["a"]);var Ht=new zt["a"].Store({modules:{customers:Kt,products:Qt,cart:Yt,transactions:Gt,config:Ut},state:{socket:{isConnected:!1,message:"",reconnectError:!1},authentication:{isAuthenticated:null!==localStorage.getItem("auth"),authKey:localStorage.getItem("auth"),authError:null},firebaseIsConnected:!1,notify:""},mutations:{SOCKET_ONOPEN:function(t,e){a["a"].prototype.$socket=e.currentTarget,t.socket.isConnected=!0},SOCKET_ONCLOSE:function(t){t.socket.isConnected=!1},SOCKET_ONERROR:function(t,e){console.error(t,e)},SOCKET_ONMESSAGE:function(t,e){t.socket.message=JSON.parse(e.data)},SOCKET_RECONNECT:function(t,e){console.info(t,e)},SOCKET_RECONNECT_ERROR:function(t){t.socket.reconnectError=!0},setNotify:function(t,e){t.notify=e},setFirebaseConnection:function(t,e){t.firebaseIsConnected=e},setAuthError:function(t,e){t.authentication.authError=e},setAuthOK:function(t,e){t.authentication.isAuthenticated=e.status,t.authentication.authKey=e.uid,console.log(e)}},actions:{sendMessage:function(t,e){var s=t.state;console.log(e),s.socket.isConnected&&a["a"].prototype.$socket.send(JSON.stringify(e))},showNotify:function(t,e){var s=t.commit;s("setNotify",e)},connectFirebase:function(t){var e=t.commit,s=Bt.a.database().ref("vm/connection"),a=Bt.a.database().ref("vm/lastOnline");Bt.a.database().ref(".info/connected").on("value",function(t){!0===t.val()?(s.set(!0),a.set(""),s.onDisconnect().set(!1),a.onDisconnect().set(Bt.a.database.ServerValue.TIMESTAMP),e("setFirebaseConnection",!0),console.log("Connected!")):(e("setFirebaseConnection",!1),console.log("Disconnected!"))})},authenticate:function(t,e){var s=t.commit;Bt.a.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){localStorage.setItem("auth",t.user.uid)}).catch(function(t){s("setAuthError",t)})},authenticated:function(t,e){var s=t.dispatch,a=t.commit;a("setAuthOK",{uid:e.uid,status:!0}),s("showNotify","Vendofy successfully authenticated.",{root:!0}),s("connectFirebase"),s("products/fetchProducts",null,{root:!0}),s("config/fetchConfig",null,{root:!0})},unauthenticated:function(t){var e=t.commit;Bt.a.auth().signOut().then(function(){e("setAuthOK",{uid:null,status:!1}),localStorage.removeItem("auth")}).catch(function(t){console.log(t)})}},getters:{getMessage:function(t){return t.socket.message},getConnection:function(t){return t.socket.isConnected},getNotify:function(t){return t.notify},getFirebaseConnection:function(t){return t.firebaseIsConnected},getAuthError:function(t){return t.authentication.authError},getAuthStatus:function(t){return t.authentication.isAuthenticated}}}),Jt=s("9483");Object(Jt["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Xt=s("b408"),Wt=s.n(Xt);a["a"].config.productionTip=!1,a["a"].use(Wt.a,"ws://192.168.137.100:81",{store:Ht,reconnection:!0,reconnectionDelay:3e3}),a["a"].use(s("2ead")),new a["a"]({router:jt,store:Ht,render:function(t){return t(f)},created:function(){var t=this;function e(){window.StatusBar&&window.StatusBar.hide()}document.addEventListener("deviceready",e,!1),Bt.a.initializeApp({apiKey:"AIzaSyBf1VjLPZpSoptX4uT_6HmbwFfXIldNGIQ",authDomain:"vendofy.firebaseapp.com",databaseURL:"https://vendofy.firebaseio.com",projectId:"vendofy",storageBucket:"vendofy.appspot.com",messagingSenderId:"1051291964270",appId:"1:1051291964270:web:2d3f01f012712a8b"}),Bt.a.auth().onAuthStateChanged(function(e){e?t.$store.dispatch("authenticated",{uid:e.uid}):t.$store.dispatch("unauthenticated")})}}).$mount("#app")},"9d8f":function(t,e,s){"use strict";var a=s("fc15"),r=s.n(a);r.a},cccb:function(t,e,s){"use strict";var a=s("4e69"),r=s.n(a);r.a},fc15:function(t,e,s){}});